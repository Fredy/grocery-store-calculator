(this["webpackJsonpgrocery-store-calculator"]=this["webpackJsonpgrocery-store-calculator"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(7),i=c.n(a),u=(c(13),c(14),c(15),c(2)),s=c(4),o=(c(16),[{name:"Milk",price:3.97,uniqueId:"milk",salePrice:{quantity:2,newPrice:5}},{name:"Bread",price:2.17,uniqueId:"bread",salePrice:{quantity:3,newPrice:6}},{name:"Banana",price:.99,uniqueId:"banana",salePrice:null},{name:"Apple",price:.89,uniqueId:"apple",salePrice:null}]),l=Object.fromEntries(o.map((function(e){return[e.uniqueId,e]}))),d=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function j(e,t){var c=l[e],n=c.price,r=c.salePrice;if(!r)return t*n;var a=Math.floor(t/r.quantity),i=t%r.quantity;return a*r.newPrice+i*n}var b=c(0),m=Object(n.createContext)(void 0);function f(e){var t=e.children,c=Object(n.useState)(new Map),r=Object(u.a)(c,2),a=r[0],i=r[1],s=Object(n.useState)(0),o=Object(u.a)(s,2),d=o[0],f=o[1],O=Object(n.useState)(0),p=Object(u.a)(O,2),v=p[0],h=p[1];Object(n.useEffect)((function(){var e=0,t=0;a.forEach((function(c,n){var r=l[n].price;t+=c*r,e+=j(n,c)})),f(e),h(t-e)}),[a]);var x=Object(n.useCallback)((function(e){i((function(t){var c=new Map(t),n=t.get(e);return void 0===n?c.set(e,1):c.set(e,n+1),c}))}),[]),g=Object(n.useCallback)((function(e){i((function(t){var c=new Map(t),n=t.get(e);return void 0===n?t:(1===n?c.delete(e):c.set(e,n-1),c)}))}),[]),P=Object(n.useCallback)((function(e){i((function(t){var c=new Map(t);return c.delete(e)?c:t}))}),[]),S={productsMap:a,totalPrice:d,savings:v,increaseProductItem:x,decreaseProductItem:g,removeProductItem:P};return Object(b.jsx)(m.Provider,{value:S,children:t})}function O(){return Object(n.useContext)(m)}function p(e){var t=e.product,c=e.quantity,n=O(),r=n.increaseProductItem,a=n.decreaseProductItem,i=n.removeProductItem,u=t.uniqueId,o=t.name,l=d.format(j(u,c));return Object(b.jsxs)("li",{className:"productList-item",children:[Object(b.jsxs)("div",{className:"productList-item-description",children:[Object(b.jsx)("span",{className:"productList-item-name",children:o}),Object(b.jsxs)("span",{className:"productList-item-quantity",children:["x",c]})]}),Object(b.jsxs)("div",{className:"productList-item-buttonGroup",children:[Object(b.jsx)("button",{onClick:function(){a(u)},className:"productList-item-button",children:Object(b.jsx)(s.c,{size:20})}),Object(b.jsx)("button",{onClick:function(){r(u)},className:"productList-item-button",children:Object(b.jsx)(s.b,{size:20})})]}),Object(b.jsx)("span",{className:"productList-item-price",children:l}),Object(b.jsx)("button",{onClick:function(){i(u)},className:"productList-item-button",children:Object(b.jsx)(s.a,{color:"red",size:20})})]})}var v=function(){var e=O().productsMap;return Object(b.jsx)("ul",{className:"productList-container",children:Array.from(e).map((function(e){var t=Object(u.a)(e,2),c=t[0],n=t[1];return Object(b.jsx)(p,{product:l[c],quantity:n},c)}))})},h=c(8),x=c.n(h);c(30);function g(e){return Object(b.jsx)("div",{children:e.name})}var P=function(e){var t=e.onSelectValue,c=e.getSuggestions,r=Object(n.useState)(""),a=Object(u.a)(r,2),i=a[0],s=a[1],o=Object(n.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1],m={placeholder:"Enter item name",value:i,onChange:function(e,t){var c=t.newValue;s(c)}};return Object(b.jsx)(x.a,{suggestions:d,onSuggestionsFetchRequested:function(e){var t=e.value;j(c(t))},onSuggestionsClearRequested:function(){return j([])},onSuggestionSelected:function(e,c){var n=c.suggestion;t(n),s("")},getSuggestionValue:function(e){return e.name},renderSuggestion:g,inputProps:m})};function S(e){var t=e.trim().toLowerCase();return t?o.filter((function(e){return e.name.toLowerCase().includes(t)})):[]}var I=function(){var e=O(),t=e.increaseProductItem,c=e.totalPrice,n=e.savings,r=d.format(c),a=d.format(n);return Object(b.jsxs)("div",{className:"calculator-container",children:[Object(b.jsxs)("div",{className:"calculator-column calculator-leftSide",children:[Object(b.jsx)(v,{}),Object(b.jsx)(P,{getSuggestions:S,onSelectValue:function(e){t(e.uniqueId)}})]}),Object(b.jsxs)("div",{className:"calculator-column calculator-rightSide",children:[Object(b.jsxs)("div",{className:"calculator-totalPrice",children:[Object(b.jsx)("h1",{children:"Total price"}),Object(b.jsx)("h2",{children:r})]}),Object(b.jsxs)("div",{className:"calculator-savedAmount",children:[Object(b.jsx)("h1",{children:"You saved"}),Object(b.jsx)("h2",{children:a})]})]})]})};var N=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(f,{children:Object(b.jsx)(I,{})})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,32)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),q()}},[[31,1,2]]]);
//# sourceMappingURL=main.4527f566.chunk.js.map